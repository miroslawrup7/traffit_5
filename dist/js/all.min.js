const recNumLoc=document.querySelector(".records-number"),noResultsLoc=document.querySelector(".no-results"),resultsLoc=document.querySelector(".results"),awardedResultsLoc=document.querySelector(".awarded"),pagesContainer=document.querySelector(".pages-container"),pagesSwitchLoc=document.querySelector(".pages");let pageButtonsLoc=document.querySelectorAll(".page");const dropDownFilterLoc=document.querySelector(".drop-down-filters"),dropDownLoc=document.querySelector(".drop-down-btn"),dropDownBtnLoc=document.querySelector(".drop-down-btn img"),moreFiltersLoc=document.querySelector(".more-filters"),lessFiltersLoc=document.querySelector(".less-filters"),recordsOnPageLoc=document.querySelector(".records-on-page"),branchesLoc=document.querySelector(".branches"),jobFormLoc=document.querySelector(".job-form"),jobTypeLoc=document.querySelector(".job-type"),langLoc=document.querySelector(".lang"),countriesLoc=document.querySelector(".countries"),citiesLoc=document.querySelector(".cities"),locationMarkLoc=document.querySelector("#localization"),locationDotLoc=document.querySelector("#loc-slider"),locationSliderLoc=document.querySelector(".distance-slider .slider-container .container"),locationValuesLoc=document.querySelector(".distance-slider .slider-values"),displayValDistance=document.getElementById("range3"),salaryMarkLoc=document.querySelector("#salary-mark"),salarySliderLoc=document.querySelector(".salary .slider-container .container"),salaryValuesLoc=document.querySelector(".salary .slider-values"),sliderOne=document.querySelector("#slider-1"),sliderTwo=document.querySelector("#slider-2"),displayValOne=document.getElementById("range1"),displayValTwo=document.getElementById("range2"),sliderTrack=document.querySelector(".salary .slider-track"),pauseLoc=document.querySelector(".salary .pause"),remoteLoc=document.querySelector("#remote"),relocationLoc=document.querySelector("#relocation"),searchInputLoc=document.querySelector(".search-input input"),searchBtn=document.querySelector(".search-btn"),clearFiltersLoc=document.querySelector(".clear-filters"),clearFilterLoc=document.querySelectorAll(".lists .list .clear-list"),salaryLoc=document.querySelector(".salary"),remoteWrapperLoc=document.querySelector(".remote-wrapper"),relocationWrapperLoc=document.querySelector(".relocation-wrapper"),langWrapperLoc=document.querySelector("#lang").closest("div"),locWrapperLoc=document.querySelector(".loc-container"),brancheWrapperLoc=document.querySelector("#branches").closest("div");let filteredRecordsArray_11,apiPage=1,rawAPIArray=[],allRecordsArray=[],filterBranchesList=[],filterJobFormList=[],filterJobTypeList=[],filterLangList=[],filterMinSalary=1e5,filterMaxSalary=0,filterCountriesList={},recordsNumber=0,firstRecordNumber=0,recordsOnPage=20,filterListMaxHeight=0,filtersON=!1;searchInputLoc.value="",recordsOnPageLoc.value=20,locationMarkLoc.checked=!1,locationDotLoc.disabled=!0,countriesLoc.disabled=!0,citiesLoc.disabled=!0,locationDotLoc.value=0,salaryMarkLoc.checked=!1,sliderOne.disabled=!0,sliderTwo.disabled=!0,remoteLoc.checked=!1,relocationLoc.checked=!1;const setParentIframeHeight=()=>{const e=document.body.scrollHeight;window.parent.postMessage(e,"*");const t=new Date,i=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),o=("0"+t.getDate()).slice(-2),a=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2),l=("0"+t.getSeconds()).slice(-2);console.log(i+"-"+r+"-"+o+" "+a+":"+n+":"+l)},createDataForFilters=(e,t,i,r,o,a,n,l,c,s,d)=>{-1===filterBranchesList.indexOf(e)&&void 0!==e&&(filterConfigData.branche_filter.length?-1!==filterConfigData.branche_filter.indexOf(e)&&filterBranchesList.push(e):filterBranchesList.push(e)),t&&t.forEach((function(e){-1===filterJobFormList.indexOf(e)&&filterJobFormList.push(e)})),-1===filterJobTypeList.indexOf(i)&&void 0!==i&&filterJobTypeList.push(i),-1===filterLangList.indexOf(r)&&(filterConfigData.language_filter.length?-1!==filterConfigData.language_filter.indexOf(r)&&filterLangList.push(r):filterLangList.push(r)),o&&(a<filterMinSalary&&(filterMinSalary=a),n>filterMaxSalary&&(filterMaxSalary=n)),filterConfigData.location_country_filter.length?-1!==filterConfigData.location_country_filter.indexOf(l)&&(filterCountriesList[l]?-1===filterCountriesList[l].findIndex((e=>e.city===c))&&(filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(c)&&filterCountriesList[l].push({city:c,lati:s,longi:d}):filterCountriesList[l].push({city:c,lati:s,longi:d})):(filterCountriesList[l]=[],filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(c)&&filterCountriesList[l].push({city:c,lati:s,longi:d}):filterCountriesList[l].push({city:c,lati:s,longi:d}))):filterCountriesList[l]?-1===filterCountriesList[l].findIndex((e=>e.city===c))&&filterCountriesList[l].push({city:c,lati:s,longi:d}):(filterCountriesList[l]=[],filterCountriesList[l].push({city:c,lati:s,longi:d}))},reworkData=e=>{e.forEach((e=>{var t,i,r,o,a,n,l,c,s,d,u;e.options.job_location&&(parsedJobLocation=JSON.parse(e.options.job_location)),allRecordsArray.push({url:e.url,name:e.advert.name,branche:e.options.branches,lang:e.advert.language,jobType:e.options.job_type,visibleRate:parseInt(e.options._Widoczna_stawka),salaryFrom:parseInt(e.options._spodziewane_wynagrodzenie_od),salaryTo:parseInt(e.options._spodziewane_wynagrodzenie_do),remote:e.options.remote,relocation:e.options._relokacja,recruitmentType:e.options._rekrutacja_rodzaj,jobForm:e.options._forma_zatrudnienia,country:parsedJobLocation.country,city:parsedJobLocation.locality,lati:parseFloat(parsedJobLocation.latitude),longi:parseFloat(parsedJobLocation.longitude),description:e.advert.values,awarded:e.awarded}),t=e.options.branches,i=e.options._forma_zatrudnienia,r=e.options.job_type,o=e.advert.language,a=parseInt(e.options._Widoczna_stawka),n=parseInt(e.options._spodziewane_wynagrodzenie_od),l=parseInt(e.options._spodziewane_wynagrodzenie_do),c=parsedJobLocation.country,s=parsedJobLocation.locality,d=parseFloat(parsedJobLocation.latitude),u=parseFloat(parsedJobLocation.longitude),-1===filterBranchesList.indexOf(t)&&void 0!==t&&(filterConfigData.branche_filter.length?-1!==filterConfigData.branche_filter.indexOf(t)&&filterBranchesList.push(t):filterBranchesList.push(t)),i&&i.forEach((function(e){-1===filterJobFormList.indexOf(e)&&filterJobFormList.push(e)})),-1===filterJobTypeList.indexOf(r)&&void 0!==r&&filterJobTypeList.push(r),-1===filterLangList.indexOf(o)&&(filterConfigData.language_filter.length?-1!==filterConfigData.language_filter.indexOf(o)&&filterLangList.push(o):filterLangList.push(o)),a&&(n<filterMinSalary&&(filterMinSalary=n),l>filterMaxSalary&&(filterMaxSalary=l)),filterConfigData.location_country_filter.length?-1!==filterConfigData.location_country_filter.indexOf(c)&&(filterCountriesList[c]?-1===filterCountriesList[c].findIndex((e=>e.city===s))&&(filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(s)&&filterCountriesList[c].push({city:s,lati:d,longi:u}):filterCountriesList[c].push({city:s,lati:d,longi:u})):(filterCountriesList[c]=[],filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(s)&&filterCountriesList[c].push({city:s,lati:d,longi:u}):filterCountriesList[c].push({city:s,lati:d,longi:u}))):filterCountriesList[c]?-1===filterCountriesList[c].findIndex((e=>e.city===s))&&filterCountriesList[c].push({city:s,lati:d,longi:u}):(filterCountriesList[c]=[],filterCountriesList[c].push({city:s,lati:d,longi:u}))}))},summariseDownload=e=>{recNumLoc.innerText=`Znaleziono ${e} ogłoszeń`,e?noResultsLoc.classList.remove("active"):noResultsLoc.classList.add("active")},showHideFilters=()=>{dropDownBtnLoc.classList.toggle("up"),dropDownFilterLoc.classList.contains("show")?(dropDownFilterLoc.classList.remove("show"),dropDownFilterLoc.style.maxHeight=String(0)+"px",moreFiltersLoc.classList.remove("hide"),lessFiltersLoc.classList.remove("show"),setTimeout(setParentIframeHeight,1e3)):(dropDownFilterLoc.classList.add("show"),dropDownFilterLoc.style.maxHeight="1000px",moreFiltersLoc.classList.add("hide"),lessFiltersLoc.classList.add("show"),setTimeout(setParentIframeHeight,1e3))},hideFilter=()=>{dropDownFilterLoc.classList.contains("show")&&(dropDownBtnLoc.classList.toggle("up"),dropDownFilterLoc.classList.remove("show"),dropDownFilterLoc.style.maxHeight=String(0)+"px",moreFiltersLoc.classList.remove("hide"),lessFiltersLoc.classList.remove("show"))},dropDownBtnStart=()=>{dropDownLoc.addEventListener("click",showHideFilters),dropDownLoc.classList.add("active")},pagesContainerStart=()=>{pagesContainer.classList.add("active")},createRecordBoxes=(e,t,r)=>{for(resultsLoc.replaceChildren(),i=t;i<r;i++)if(e[i]){let t="",r="";filterConfigData.recruitmentType_colorOnly.length?(-1!==filterConfigData.recruitmentType_colorOnly.indexOf("PT")&&"PT"===e[i].recruitmentType&&(t="pt-border",r="pt-text"),-1!==filterConfigData.recruitmentType_colorOnly.indexOf("RS")&&"RS"===e[i].recruitmentType&&(t="rs-border",r="rs-text"),-1!==filterConfigData.recruitmentType_colorOnly.indexOf("WEW")&&"WEW"===e[i].recruitmentType&&(t="wew-border",r="wew-text")):("PT"===e[i].recruitmentType&&(t="pt-border",r="pt-text"),"RS"===e[i].recruitmentType&&(t="rs-border",r="rs-text"),"WEW"===e[i].recruitmentType&&(t="wew-border",r="wew-text"));let o="";e[i].jobForm&&e[i].jobForm.forEach((function(e){o=o+"<p>"+e+"</p>"})),resultsLoc.insertAdjacentHTML("beforeend",`<a href="${e[i].url}" target="_blank"><div class="result ${t}">\n            <div class="top">\n              \n                    <div class="lang"><p>${e[i].lang}</p></div>\n                    <div class="branche-name">\n                        <div class="branche">${e[i].branche?e[i].branche:""}</div>\n                        <div class="name ${r}">${e[i].name}</div>\n                   \n                </div>\n              \n            </div>\n\n            <div class="bottom">\n                <div class="city-container">\n                    <div class="city"><img src="./img/location_dot.svg">${e[i].city}</div>\n                    </div>\n                    <div class="details-container">\n                    ${e[i].jobType?"<div class='jobtype'>"+e[i].jobType+"</div>":""}\n                    ${e[i].visibleRate&&e[i].salaryFrom&&e[i].salaryTo?"<div class='salary'>"+e[i].salaryFrom+" - "+e[i].salaryTo+"</div>":""}\n                    ${e[i].remote?"<div class='remote'>zdalna</div>":""}\n                    ${e[i].relocation?"<div class='relocation'>relocation</div>":""}\n                    <div class="employmentform">${o}</div>\n                    </div>\n                </div>\n                   \n                </div>\n          \n\n        </div></a>`)}},filterAwarded=(e,t,r)=>{for(i=t.length-1;i>=0;i--){let o=!1;e.forEach((e=>{t[i][r]===e&&(o=!0)})),o||t.splice(i,1)}},createAwardedRecordBoxes=(e,t)=>{awardedResultsLoc.replaceChildren();let r=e.filter((e=>e.awarded));if(r.length>0)for(t.remote_filter&&(r=r.filter((e=>e.remote))),t.language_filter.length>0&&filterAwarded(t.language_filter,r,"lang"),t.branche_filter.length>0&&filterAwarded(t.branche_filter,r,"branche"),t.location_country_filter.length>0&&filterAwarded(t.location_country_filter,r,"country"),t.location_city_filter.length>0&&filterAwarded(t.location_city_filter,r,"city"),t.recruitmentType_filter.length>0&&filterAwarded(t.recruitmentType_filter,r,"recruitmentType"),i=firstRecordNumber;i<10;i++)if(r[i]){let e="",t="";"PT"===r[i].recruitmentType&&(e="pt-border",t="pt-text"),"RS"===r[i].recruitmentType&&(e="rs-border",t="rs-text"),"WEW"===r[i].recruitmentType&&(e="wew-border",t="wew-text");let o="";r[i].jobForm&&r[i].jobForm.forEach((function(e){o=o+"<p>"+e+"</p>"})),awardedResultsLoc.insertAdjacentHTML("beforeend",`<a href="${r[i].url}" target="_blank"><div class="result ${e}">\n                <div class="top">\n                \n                        <div class="lang">\n                            <p>${r[i].lang}</p>\n                        </div>\n                        <div class="branche-name">\n                            <div class="branche">${r[i].branche?r[i].branche:""}</div>\n                            <div class="name ${t}">${r[i].name}</div>\n                        </div>\n                    \n                </div>\n\n                <div class="bottom">\n                    <div class="city-container">\n                        <div class="city"><img src="./img/location_dot.svg">${r[i].city}</div></div>\n                        <div class="details-container">\n                        ${r[i].remote?"<div class='remote'>zdalna</div>":""}\n                        ${r[i].relocation?"<div class='relocation'>relocation</div>":""}\n                        ${r[i].jobType?"<div class='jobtype'>"+r[i].jobType+"</div>":""}\n                        ${r[i].visibleRate&&r[i].salaryFrom&&r[i].salaryTo?"<div class='salary'>"+r[i].salaryFrom+" - "+r[i].salaryTo+"</div>":""}\n                        <div class="employmentform">${o}</div>\n                        </div>\n                    \n                </div>\n\n                <div class="ribbon-wrap">\n                        <div class="ribbon">\n                                <img src="./img/star.svg" alt="">\n                                <img src="./img/star.svg" alt="">\n                                <img src="./img/star.svg" alt="">\n                            </div>\n                        </div>\n                </div>\n\n                \n\n            </div></a>`)}};let filterConfigData={};const getConfigFilter=()=>fetch("./config/config.json");async function readConfigFilter(){try{const e=await fetch("./config/config.json");filterConfigData=await e.json(),createRecordsObjFromAPI(apiPage,filterConfigData)}catch(e){console.error(e),createRecordsObjFromAPI(apiPage)}}readConfigFilter();const getAPI=e=>fetch("https://grupaprogres.traffit.com/public/job_posts/published",{mode:"cors",headers:{"Content-Type":"application/json","X-Request-Page-Size":"100","X-Request-Current-Page":e,"X-Request-Sort":'{"sort_by": "id", "direction": "ASC"}'}}),loopOnAPI=(e,t)=>{e.length>0?(rawAPIArray=rawAPIArray.concat(e),apiPage++,createRecordsObjFromAPI(apiPage,t)):(reworkData(rawAPIArray),recordsNumber=rawAPIArray.length,summariseDownload(recordsNumber),createAwardedRecordBoxes(allRecordsArray,t),setPages(recordsNumber),createFilterLists(t),dropDownLoc.addEventListener("click",showHideFilters),dropDownLoc.classList.add("active"),pagesContainer.classList.add("active"),createFilteredRecordsArray())};async function createRecordsObjFromAPI(e,t){const i=await getAPI(e),r=await i.json();loopOnAPI(r,t)}const createFilterLists=e=>{e.salary_visible||salaryLoc.classList.add("unactive"),e.relocation_visible||relocationWrapperLoc.classList.add("unactive"),e.language_visible||langWrapperLoc.classList.add("unactive"),e.remote_visible||remoteWrapperLoc.classList.add("unactive"),e.location_visible||locWrapperLoc.classList.add("unactive"),e.branche_visible||brancheWrapperLoc.classList.add("unactive");let t=navigator.userAgent.match(/SamsungBrowser/i),i=navigator.userAgent.match(/Chrome/i);if(filterBranchesList.length>0&&(filterBranchesList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterBranchesList.length+3,filterListMaxHeight=rowHeight,"unknown"===getMobileOperatingSystem()?branchesLoc.style.height=String(rowHeight)+"px":branchesLoc.style.height=t||i?"50px":String(rowHeight)+"px",filterBranchesList.forEach((function(e){branchesLoc.insertAdjacentHTML("beforeend",`<option value="${e}">${e}</option>`)}))),filterJobFormList.length>0&&(filterJobFormList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterJobFormList.length+3,"unknown"===getMobileOperatingSystem()?jobFormLoc.style.height=String(rowHeight)+"px":jobFormLoc.style.height=t||i?"50px":String(rowHeight)+"px",filterJobFormList.forEach((function(e){jobFormLoc.insertAdjacentHTML("beforeend",`<option value="${e}">${e}</option>`)}))),filterJobTypeList.length>0&&(filterJobTypeList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterJobTypeList.length+3,"unknown"===getMobileOperatingSystem()?jobTypeLoc.style.height=String(rowHeight)+"px":jobTypeLoc.style.height=t||i?"50px":String(rowHeight)+"px",filterJobTypeList.forEach((function(e){jobTypeLoc.insertAdjacentHTML("beforeend",`<option value="${e}">${e}</option>`)}))),filterLangList.length>0&&(filterLangList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterLangList.length+3,"unknown"===getMobileOperatingSystem()?langLoc.style.height=String(rowHeight)+"px":langLoc.style.height=t||i?"50px":String(rowHeight)+"px",filterLangList.forEach((function(e){langLoc.insertAdjacentHTML("beforeend",`<option value="${e}">${e}</option>`)}))),Object.keys(filterCountriesList).length>0){function r(e,t){return e.city.localeCompare(t.city)}countriesLoc.insertAdjacentHTML("beforeend",'<option value="" class="placeholder">Państwo</option>'),citiesLoc.insertAdjacentHTML("beforeend",'<option value="" class="placeholder">Miasto</option>');for(let n in filterCountriesList)filterCountriesList[n].sort(r);filterCountriesList=Object.keys(filterCountriesList).sort().reduce(((e,t)=>(e[t]=filterCountriesList[t],e)),{});let o=[];for(let l in filterCountriesList)countriesLoc.insertAdjacentHTML("beforeend",`<option value="${l}">${l}</option>`),o=o.concat(filterCountriesList[l]);let a=[];o.forEach((e=>{a.push(e.city)})),a.sort((function(e,t){return e.localeCompare(t)})),a.forEach((function(e){citiesLoc.insertAdjacentHTML("beforeend",`<option value="${e}" class="active">${e} </option>`)}))}sliderOne.min=filterMinSalary.toString(),sliderTwo.min=filterMinSalary.toString(),sliderOne.max=filterMaxSalary.toString(),sliderTwo.max=filterMaxSalary.toString(),sliderOne.value=filterMinSalary.toString(),sliderTwo.value=filterMaxSalary.toString(),slideOne(),slideTwo()},createFilteredRecordsArray=()=>{const e=document.querySelectorAll(".branches option"),t=document.querySelectorAll(".job-form option"),i=document.querySelectorAll(".job-type option"),r=document.querySelectorAll(".lang option"),o=document.querySelectorAll(".countries option"),a=document.querySelectorAll(".cities option");let n=allRecordsArray,l=[];l=filterConfigData.branche_filter.length?filterConfigData.branche_filter:Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}));let c=[];0!==l.length?n.forEach(((e,t)=>{let i=!1;l.forEach((t=>{e.branche===t&&(i=!0)})),i&&c.push(e)})):c=n;let s=Array.from(t).filter((function(e){return e.selected})).map((function(e){return e.value})),d=[];0!==s.length?c.forEach(((e,t)=>{if(e.jobForm){let t=!1;s.forEach((i=>{-1!==e.jobForm.indexOf(i)&&(t=!0)})),t&&d.push(e)}})):d=c;let u=Array.from(i).filter((function(e){return e.selected})).map((function(e){return e.value})),f=[];0!==u.length?d.forEach(((e,t)=>{let i=!1;u.forEach((t=>{e.jobType===t&&(i=!0)})),i&&f.push(e)})):f=d;let g=[];g=filterConfigData.language_filter.length?filterConfigData.language_filter:Array.from(r).filter((function(e){return e.selected})).map((function(e){return e.value}));let p,L,h=[];0!==g.length?f.forEach(((e,t)=>{let i=!1;g.forEach((t=>{e.lang===t&&(i=!0)})),i&&h.push(e)})):h=f,salaryMarkLoc.checked&&(p=parseInt(displayValOne.innerText),L=parseInt(displayValTwo.innerText));let m=[];salaryMarkLoc.checked?h.forEach(((e,t)=>{let i=!1;e.visibleRate&&(e.salaryTo&&e.salaryFrom&&e.salaryTo>=p&&e.salaryFrom<=L&&(i=!0),e.salaryTo&&!e.salaryFrom&&e.salaryTo>=p&&(i=!0),!e.salaryTo&&e.salaryFrom&&e.salaryFrom<=L&&(i=!0)),i&&m.push(e)})):m=h;let y=[];filterConfigData.location_country_filter.length?y=filterConfigData.location_country_filter:locationMarkLoc.checked&&(y=Array.from(o).filter((function(e){if(e.value)return e.selected})).map((function(e){if(e.value)return e.value})));let v=[];(locationMarkLoc.checked||filterConfigData.location_country_filter.length)&&y.length?m.forEach(((e,t)=>{let i=!1;y.forEach((t=>{e.country===t&&(i=!0)})),i&&v.push(e)})):v=m;let b=[];filterConfigData.location_city_filter.length?b=filterConfigData.location_city_filter:locationMarkLoc.checked&&(b=Array.from(a).filter((function(e){if(e.value)return e.selected})).map((function(e){if(e.value)return e.value})));let w=[];if(locationMarkLoc.checked||filterConfigData.location_city_filter.length)if(b.length){let e,t,i,r,o,a,n=0;n=parseInt(locationDotLoc.value),v.forEach(((l,c)=>{l.city===b[0]&&(e=l.lati,t=l.longi,i=e-.009044*n,r=e+.009044*n,o=t-.0089831*n/Math.cos(e*Math.PI/180),a=t+.0089831*n/Math.cos(e*Math.PI/180))})),v.forEach(((e,t)=>{let n=!1;e.lati<=r&&e.lati>=i&&e.longi<=a&&e.longi>=o&&(n=!0),n&&w.push(e)}))}else w=v;else w=v;let S=[];remoteLoc.checked||filterConfigData.remote_filter?w.forEach(((e,t)=>{let i=!1;e.remote&&(i=!0),i&&S.push(e)})):S=w;let C=[];relocationLoc.checked?S.forEach(((e,t)=>{let i=!1;e.relocation&&(i=!0),i&&C.push(e)})):C=S;let x=[],T=searchInputLoc.value;T?C.forEach(((e,t)=>{let i,r=!1;e.description.forEach((function(e){e.value&&"geolocation"!==e.field_id&&(i=e.value.toLowerCase().search(T.toLowerCase()),-1!==i&&(r=!0))})),i=e.name.toLowerCase().search(T.toLowerCase()),-1!==i&&(r=!0),r&&x.push(e)})):x=C,filteredRecordsArray_11=[];let _=[];filterConfigData.recruitmentType_filter.length&&(_=filterConfigData.recruitmentType_filter),0!==_.length?x.forEach(((e,t)=>{let i=!1;_.forEach((t=>{e.recruitmentType===t&&(i=!0)})),i&&filteredRecordsArray_11.push(e)})):filteredRecordsArray_11=x,recordsNumber=filteredRecordsArray_11.length,summariseDownload(recordsNumber),createRecordBoxes(filteredRecordsArray_11,0,recordsOnPage),setPages(recordsNumber),filtersON=!0,dropDownFilterLoc.classList.contains("show")&&(dropDownBtnLoc.classList.toggle("up"),dropDownFilterLoc.classList.remove("show"),dropDownFilterLoc.style.maxHeight=String(0)+"px",moreFiltersLoc.classList.remove("hide"),lessFiltersLoc.classList.remove("show")),setTimeout(setParentIframeHeight,1e3)};function slideDistance(){displayValDistance.textContent=locationDotLoc.value}searchBtn.addEventListener("click",createFilteredRecordsArray),locationMarkLoc.addEventListener("change",(function(e){e.target.checked?(citiesLoc.value&&(locationSliderLoc.classList.remove("unactive"),locationValuesLoc.classList.remove("unactive"),locationDotLoc.disabled=!1),countriesLoc.disabled=!1,citiesLoc.disabled=!1):(locationSliderLoc.classList.add("unactive"),locationValuesLoc.classList.add("unactive"),locationDotLoc.disabled=!0,countriesLoc.disabled=!0,citiesLoc.disabled=!0)}));const activateCities=()=>{citiesLoc.querySelectorAll("option").forEach((e=>{countriesLoc.value?-1!==filterCountriesList[countriesLoc.value].findIndex((t=>t.city===e.value))?e.classList.add("active"):e.classList.remove("active"):e.classList.add("active")}))};countriesLoc.addEventListener("change",(function(){activateCities(),countriesLoc.value?filterCountriesList[countriesLoc.value].find((e=>e.city!==citiesLoc.value))&&(citiesLoc.value=filterCountriesList[countriesLoc.value][0].city,locationSliderLoc.classList.remove("unactive"),locationValuesLoc.classList.remove("unactive"),locationDotLoc.disabled=!1):(citiesLoc.value=citiesLoc[0].value,locationSliderLoc.classList.add("unactive"),locationValuesLoc.classList.add("unactive"),locationDotLoc.disabled=!0)})),citiesLoc.addEventListener("change",(function(){Object.keys(filterCountriesList).find((e=>{-1!==filterCountriesList[e].findIndex((e=>e.city===citiesLoc.value))&&countriesLoc.value!==e&&(countriesLoc.value=e,activateCities())})),citiesLoc.value?(locationSliderLoc.classList.remove("unactive"),locationValuesLoc.classList.remove("unactive"),locationDotLoc.disabled=!1):(locationSliderLoc.classList.add("unactive"),locationValuesLoc.classList.add("unactive"),locationDotLoc.disabled=!0)}));let minGap=0;function slideOne(){parseInt(sliderTwo.value)-parseInt(sliderOne.value)<=minGap&&(sliderOne.value=parseInt(sliderTwo.value)-minGap),displayValOne.textContent=sliderOne.value,sliderOne.value===sliderTwo.value?sliderOne.style.zIndex="1":sliderOne.style.zIndex="0",fillColor()}function slideTwo(){parseInt(sliderTwo.value)-parseInt(sliderOne.value)<=minGap&&(sliderTwo.value=parseInt(sliderOne.value)+minGap),displayValTwo.textContent=sliderTwo.value,"100000"===displayValTwo.textContent&&(salaryMarkLoc.disabled=!0,displayValOne.textContent="",displayValTwo.textContent="",pauseLoc.textContent=""),fillColor()}function fillColor(){percent1=(sliderOne.value-sliderOne.min)/(sliderOne.max-sliderOne.min)*100,percent2=(sliderTwo.value-sliderOne.min)/(sliderOne.max-sliderOne.min)*100,sliderTrack.style.background=`linear-gradient(to right, #dadae5 ${percent1}%, #fe7320ff ${percent1}%, #fe7320ff ${percent2}%, #dadae5 ${percent2}%)`}sliderOne.value=filterMaxSalary.toString(),sliderTwo.value=filterMinSalary.toString(),salaryMarkLoc.addEventListener("change",(function(e){e.target.checked?(salarySliderLoc.classList.remove("unactive"),salaryValuesLoc.classList.remove("unactive"),sliderOne.disabled=!1,sliderTwo.disabled=!1):(salarySliderLoc.classList.add("unactive"),salaryValuesLoc.classList.add("unactive"),sliderOne.disabled=!0,sliderTwo.disabled=!0)}));const changePage=e=>{pageButtonsLoc.forEach((e=>{e.classList.remove("active")})),e.classList.add("active");let t=recordsOnPage*parseInt(e.innerText)-recordsOnPage,i=recordsOnPage*parseInt(e.innerText);createRecordBoxes(filtersON?filteredRecordsArray_11:allRecordsArray,t,i),globActivePageNo=parseInt(e.innerText),setTimeout(setParentIframeHeight(),500)};let globActivePageNo;const movePrevPagesBtns=()=>{let e,t=parseInt(Array.from(document.querySelectorAll(".page")).shift().innerText),i=parseInt(Array.from(document.querySelectorAll(".page")).pop().innerText);if(e=document.querySelector(".page.active"),e&&(e=parseInt(e.innerText)),t>1){for(pagesSwitchLoc.replaceChildren(),n=t-1;n<=i-1;n++)e||(e=globActivePageNo),e&&n===e?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);if(i<pagesQuantityCalc+1){pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>');if(t>2){pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev active"><img src="./img/chevron-left.svg" alt="" /></div>'),document.querySelector(".prev").addEventListener("click",(()=>{movePrevPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>');pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))}},moveNextPagesBtns=()=>{let e,t=parseInt(Array.from(document.querySelectorAll(".page")).shift().innerText),i=parseInt(Array.from(document.querySelectorAll(".page")).pop().innerText);if(e=document.querySelector(".page.active"),e&&(e=parseInt(e.innerText),globActivePageNo=e),i<pagesQuantityCalc){for(pagesSwitchLoc.replaceChildren(),n=t+1;n<=i+1;n++)e||(e=globActivePageNo),e&&n===e?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);if(i<pagesQuantityCalc-1){pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>');if(t>0){pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev active"><img src="./img/chevron-left.svg" alt="" /></div>'),document.querySelector(".prev").addEventListener("click",(()=>{movePrevPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>');pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))}};function getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}let maxPageBtns,pagesQuantityCalc;getWidth()<500&&(maxPageBtns=6),getWidth()>=500&&getWidth()<700&&(maxPageBtns=8),getWidth()>700&&getWidth()<900&&(maxPageBtns=10),getWidth()>900&&getWidth()<1024&&(maxPageBtns=15),getWidth()>1024&&(maxPageBtns=20);const setPages=e=>{if(pagesQuantityCalc=Math.ceil(e/recordsOnPage),pagesQuantityCalc>maxPageBtns){for(pagesSwitchLoc.replaceChildren(),n=1;n<=maxPageBtns;n++)1===n?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else{for(pagesSwitchLoc.replaceChildren(),n=1;n<=pagesQuantityCalc;n++)1===n?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>')}pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>'),pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))};recordsOnPageLoc.addEventListener("change",(e=>{recordsOnPage=parseInt(e.target.value),createRecordBoxes(filtersON?filteredRecordsArray_11:allRecordsArray,0,recordsOnPage),setPages(recordsNumber),setParentIframeHeight()}));const clearFilters=()=>{searchInputLoc.value="",window.location.reload()};function getMobileOperatingSystem(){var e=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}clearFiltersLoc.addEventListener("click",clearFilters),clearFilterLoc.forEach((e=>{e.addEventListener("click",(()=>{e.nextElementSibling.querySelectorAll("option").forEach((e=>{e.selected&&(e.selected=!1)}))}))}));
//# sourceMappingURL=all.min.js.map
